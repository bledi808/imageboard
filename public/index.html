<!doctype html>
<html>
    <head>     
        <title>imagboard üë®üèª‚Äçüé®</title>
        <link rel="stylesheet" href="style.css" class="href">
    </head>
<body>
    <div id="main" >    
        <form id="inputs">
            <input  v-model="title" type="text" name="title" placeholder="name" class="input">
            <input v-model="description" type="text" name="description" placeholder="description" class="input">
            <input v-model="username" type="text" name="username" placeholder="username" class="input">
            <input @change="selectImage" type="file" name="file" placeholder="image/*" class="input">
            <button @click="uploadImage" class="input">Submit</button>    
        </form>
        <div id="item-container">          
            <div id="item-tile" v-for="image in images">
                <a :href="'#'+ image.id" style="text-decoration:none">
                    <div id="item-image" >
                        <img v-bind:src="image.url">
                    </div>    
                    <p class="item-name">{{image.title}}</p>
                </a>    
            </div>            
    <!-------------------------- RENDER COMPONENT - INSIDE MAIN VUE EL -------------------------->
            <my-component 
                v-if="imageId"
                :image-id ='imageId'
                @close="closeModal" // closeMePlease
            ></my-component>            
        </div>
        <div class="more-button">
            <button v-if="more" id="more" @click="loadMore">More</button> 
        </div>
    </div>
        <!-------------------------- COMPONENT CODE - CHILD OF MAIN VUE EL -------------------------->
    <script id="template" type="text/x-template">
        <div id="overlay-container">    
            <div id="overlay" @click="closeModal"></div>
            <div id="modal">
                <div id="modal-layout">
                    <div id="modal-image"  >
                        <img :src="preview.url">
                    </div>
                    <div id="modal-copy">
                        <div id="modal-desc">
                            <div>
                                <p id="modal-title">{{preview.title}}</p>
                                <p id="modal-text">
                                    </br>{{preview.description}}</br>{{preview.username}}</br>{{preview.created_at.slice(0,10)}}
                                </p>
                            </div>
                            <div>
                                <form id="enter-comments">
                                    <input v-model='username' type="text" placeholder="Name" name="name">
                                    <input v-model='comment' type="text" placeholder="Comment" name="comment">
                                    <button @click='addComment'>Comment</button>
                                </form>   
                            </div> 
                            <div class="display-comments" v-for="comment in comments">
                                </br><span id="comments">{{comment.comment}}</span></br>
                            </div>
                        </div>
                        <div class="vertical-bar">
                            <div id="close-modal">
                                <p id="close-modal-x" @click="closeModal">x</p>
                            </div>
                            <div class="nav-buttons"
                                <div>
                                    <button @click='nextImage' id="next">></button>
                                    <button id="next"style="border: none">></button>
                                </div>
                                <div>
                                    <!-- <button @click='previousImage' id="previous" style="border: none"><</button> -->
                                    <button id="previous" style="border: none"><</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>    
            </div>
        </div>
    </script>    
    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
